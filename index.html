<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>STru</title>

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" type="text/css" href="../passS/source/passS/css/passS.css">

	<link href="https://fonts.googleapis.com/css2?family=Jua&display=swap" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css2?family=Faster+One&display=swap" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css2?family=Patrick+Hand+SC&display=swap" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css2?family=Wallpoet&display=swap" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css2?family=Skranji&display=swap" rel="stylesheet">
	<style>
		body{
			margin: 0;
			padding: 0;
			font-size: 1.2rem;
			font-weight: 600;
		}	
	</style>
</head>
<body>
	<style>
		/*@keyframes bban{
	      0%{
	        background-position:0 0;
	      }
	      100%{
	        background-position:-2000px 2000px;
	      }
	    }*/
		body{
			/*font-family: 'Jua', sans-serif;*/
			/*font-family: 'Faster One', cursive;*/
			font-family: 'Patrick Hand SC', cursive;
			/*font-family: 'Wallpoet', cursive;*/
			/*font-family: 'Skranji', cursive;*/
			font-size: 1.3rem;
			background: #c52c4f;
			background-image: url(svg/bban.svg);
			background-size: 90px 90px;
			animation:bban 10s linear infinite;
			max-width: 330px;
			margin:auto;
			/*background: linear-gradient( 300deg,#30927f 3%,#ff933f 12%, #440085 118%);*/
			background: linear-gradient( 300deg,#2a193a 3%,#323647 12%, #009e86 118%);
		}
		
		.groupSecc{
			height: 100vh;
			width: 100%;
		}
		.coteSelecModito{
			height: 100%;
			/*background: salmon;*/
			display:flex;
			justify-content: center;
			align-items: center;
			/*position: relative;*/
		}
		.selecModito{
			/*background: #444444;*/
			color: white;
			border-radius: 2px;
			padding: 40px;
			display: grid;
			grid-template-columns: 1fr;
			
		}
		.selecModito .opciones{
			padding: 10px 35px;
			background: white;
			color: black;
			border-radius: 5px;
			margin: 8px;
			text-align: center;
			/*font-family: 'Poppins', sans-serif;*/
			cursor: pointer;
			transition: 0.8s;
		}
		.selecModito .opciones:hover{

			background: linear-gradient(60deg,#444444,black);
			color: white;
		}

		.pasarN{
			height: 0vh;
			overflow: hidden;
			transition: 0.9s;
			
		}


		/*menu*/
		.coteMenuG{
			display: none;
			height: 100vh;
		}

		.conteBtns{
			position: absolute;
			bottom: 0;
			display: flex;
			justify-content: space-between;
    		width: 100%;
		}
		.secciones{
			position: relative;
		}

		
	</style>

	<!-- primer cuadro -->

	<div class="groupSecc">

		<section class="secciones">
			<div class="coteSelecModito">
				<div class="selecModito">
					<div class="opciones" mensaje="ola">1 Jugador ;,V</div>
					<div class="opciones">2 Jugadores</div>
					<div class="opciones" mensaje="eloo">3 Jugadores</div>
				</div>
			
			</div>

			<div class="conteBtns">
				<button class="next">siguiente</button>	
			</div>
			
		</section>




	<style>
		

	</style>

	<!-- segundo cuadro -->
		<section class="secciones">
			
			<div class="conteConti">
				<div class="">
					<label for="amS">America del Sur</label>
					<input type="checkbox" class="checkConti" id="amS">
				</div>

				<div class="">
					<label for="amN">America del Norte</label>
					<input type="checkbox" class="checkConti" id="amN">
				</div>

				<div class="">
					<label for="Tdos">Todos</label>
					<input type="checkbox" id="Tdos">
				</div>
				
				<button id="btnAceptarConti" class="next">Aceptar</button>
				

			</div>

			
			<div class="conteBtns">				
				<button class="back">anterior</button>
				<button class="next">siguiente</button>
			</div>
		</section>






		<section class="secciones">
	<style>
		
		#relojRegresivo{
			position: absolute;
		    background: linear-gradient(30deg, #ffa200 44%, #fffd20 89%);
		    width: 74px;
		    /* border: solid #ffa200 2px; */
		    border-bottom-left-radius: 15px;
		    height: 38px;
		    text-align: center;
		    right: 0;
		    /* top: 10px; */
		    display: flex;
		    justify-content: center;
		    align-items: center;
		    color: white;
		    font-weight: 600;
		    font-size: 1.3rem;
		    line-height: 1;
		    box-shadow: -2px 4px 2px 0px rgba(0, 0, 0, 0.3);
		}
		.ctDS{
			display: flex;
			justify-content: center;
			align-items: center;
			height: 100%;
		}
		.coteDatoBand{
			text-align: center;
		}
		.opcBH{
			margin-bottom: 14px;
		    border: solid 5px #037654;
		    background: #009167;
		    padding: 10px 20px 11px 20px;
		    line-height: 1;
		    display: flex;
		    justify-content: center;
		    align-items: center;
		    border-radius: 3px;
		    cursor: pointer;
		    position: relative;
		    color: white;	
		}
		.opcBH:hover{
			border: solid 2px #444444;
		}
		.opcBH .imgL{
			position: absolute;
			left: -17px;
			width: 25px;
		}
		.opcBH .imgR{
			position: absolute;
			right: -17px;
			width: 25px;
		}
		.lugBan{
			position: relative;
		}
		#banderaR{
			position: absolute;
		    top: 18%;
		    left: 0;
		    right: 0;

		}
		.plaform{
			width: 150px;
			animation: movim 2.5s cubic-bezier(0.54, 0.9, 0.52, 1.21) infinite;
			
		}
		#aleatoriedad{
			background: #e33e51;
    		border: solid #dc3245 5px;
		    color: white;
		    padding: 2px 11px;
		    border-radius: 3px;
		    font-size: 1.2rem;
		    font-family: inherit;
		    text-transform: uppercase;
		    margin-top: 30px;
		}
		#coteOpciones{
			padding: 27px 30px 12px 30px;
    		background: #02020214;
    		border-radius: 5px;
		}
		@keyframes movim{
			0%{
				transform: translateY(0px);
			}
			50%{
				transform: translateY(5px);
			}
			100%{
				/*transform:rotateY(360deg);*/
				transform: translateY(0px)
			}
		}
		@keyframes rotL{
			0%{
				/*transform:rotateY(0deg);*/
				opacity: 0.2;
			}
			50%{
				opacity: 0.5;
			}
			100%{
				/*transform:rotateY(360deg);*/
				opacity: 1;
			}
		}
	</style>
			<div id="relojRegresivo" class="notranslate">00:00</div>

			<div class="ctDS">
				<div class="coteDatoBand">
					<div class="lugBan">
						<img class="plaform" src="svg/fsb.svg">
						<div id="banderaR"></div>
						
					</div>
					
					<div id="coteOpciones"></div>
					<button id="aleatoriedad">siguiente</button>
				</div>
			</div>
			
			
		<div class="conteBtns">
			
			<button class="back">anterior</button>
	
		</div>
		</section>





	</div>





	<section >
		
	</section>

	<section >
		<div class="coteMenuG" style="">
			
		</div>
	</section>
	
	
	<script type="text/javascript" src="../passS/source/passS/js/passS.js"></script>

	<script type="text/javascript">
		
		passC('.groupSecc');
		
		function enco(elet){
			let selecOpcio=document.querySelectorAll(elet)
			return selecOpcio

		}
		function enco1(elet){
			let selecOpcio=document.querySelector(elet)
			return selecOpcio

		}

		function efPass(esconderV,mostrarV){			
			document.querySelector(esconderV).className="coteSelecModito pasarN"
			document.querySelector(mostrarV).style.display='block';
		}

	
		enco('.opciones').forEach(opci=>{

			opci.addEventListener('click',function(){
				
				let element=this.getAttribute('mensaje')
				

				efPass('.coteSelecModito','.coteMenuG');
				
			});
		})


		//INICIO script para la SEGUNDO cuadro

		function detecConti(datoinput){
			let inputs = document.querySelectorAll(datoinput);
			// console.log(inputs);
			let juntarCont=[];
			let dato=[];

			let devolver=[];

			let amS=[
				'Argentina',
				'Brasil',
				'Bolivia',
				'Chile',
				'Colombia',
				'Ecuador',
				'Guyana',
				'Paraguay',
				'Per√∫',
				'Surinam',
				'Uruguay',
				'Venezuela'	
			]
			let amN=[
				'Mexico',
				'Estados Unidos',
				'Canada',
				'Alaska'
			]
			juntarCont.push(amS,amN);
			// console.log(juntarCont);
			// console.log(inputs.length);
			for(let i=0;i<inputs.length;++i){
				let nomDato=inputs[i].getAttribute('id');
				dato.push({
					datoConti:nomDato,
					datoCheck:inputs[i].checked,
					datoP:juntarCont[i]
				});
				
			};
			dato.forEach(da=>{
				if (da.datoCheck) {
					
					devolver.push(da.datoP);
				}
			});
			return devolver;
		}

		let seleccionados=[];
		btnAceptarConti.addEventListener('click',function(){
			let datosTodC=detecConti('.checkConti');
			console.log(datosTodC);
			seleccionados=datosTodC;

			console.log(seleccionados);
			let dIlet2=datPorInsert(seleccionados);
			insertDatHtml(dIlet2);
			clearInterval(relojin);
			relojitoRegresivo('#relojRegresivo');
		});


		//FIN script para la SEGUNDO cuadro
// 		let resultAlegg=[];
// console.log(resultAlegg.length)

		//INICIO script para la TERCER cuadro
		function numRandomEn(min, max) {
		  return Math.floor( Math.random()*(max - min)) + min;
		}
		let restantSelec=[];
		function randomBanderita(arraySele){
		
			let seleccionadosDato=arraySele;
			let aleatorio1=0;
			let aleatorio2=0;
			let resultAle=[]
			let i=0;
			let indicioVacio=0;

			seleccionadosDato.forEach(d=>{
				if(d.length==0){
					indicioVacio++;
				}
			});
			indicioVacio=(indicioVacio-seleccionadosDato.length)+1;
			if(indicioVacio==1) {
				return 2;
			}
			else{
				while(i < 1){
					aleatorio1=numRandomEn(0, seleccionadosDato.length);
					resultAle=seleccionadosDato[aleatorio1];
					if (resultAle.length==0) {
						console.log('vacioooo')
					}
					else{
						aleatorio2=numRandomEn(0, resultAle.length);
						i++;
						
					}	
					
				}
				return [aleatorio1,aleatorio2];
			} 
			
				
			
		}


		function datPorInsert(arryy){
			let banderaElegida;
			let dop=[];
			let numeRand=randomBanderita(arryy);
			console.log(numeRand)
			if (numeRand==2) {
				console.log('vacio todos')
				return 2;
			}
			else{
				console.log(arryy[numeRand[0]][numeRand[1]])
				banderaElegida=arryy[numeRand[0]][numeRand[1]]
				arryy[numeRand[0]].splice(numeRand[1],1);
				console.log(arryy)

				let opciElejir=detecConti('.checkConti')
				dop=[];
				for(let i=0;i<3;i++){	
					let opciRand=randomBanderita(opciElejir)
					let nombreOpciEle=opciElejir[opciRand[0]][opciRand[1]]
					opciElejir[opciRand[0]].splice(opciRand[1],1)
					console.log(nombreOpciEle);
					if (nombreOpciEle==banderaElegida) {
						i--;
					}else{
						dop.push(nombreOpciEle)
						console.log(dop)
					}
				}
				return [dop,banderaElegida];
			}
			
		}

		// randomBanderita();
		// let dop=[];
		// let banderaElegida;
		// let numInter=0,iNI=0;
	function pruebas(){
			
			let interD=setInterval(function(){
				let dIlet=datPorInsert(seleccionados);
				// console.log(dIlet);
				if (dIlet==2) {
					clearInterval(interD);
				}else{
					console.log(dIlet);
				}
				console.log(seleccionados);
			},1000);
		}
		
		let relojin;
		function relojitoRegresivo(lugarRelojRegre){
			
			let numInter=20+1;
			lugarRR=document.querySelector(lugarRelojRegre)
			let iNI=0;
			relojin=setInterval(function(){

				numInter--;
				if (numInter<=9) {
					numInter="0"+numInter;	
				}
				// console.log(numInter);
				lugarRR.innerHTML="00:"+numInter;
				if (iNI===parseInt(numInter)) {
					clearInterval(relojin);
					// numInter=20+1;
					return 2;
				}else{
					return 1;
				}

			},1000);
		}
		


		function insertDatHtml(arryyD){
			let incrusHtml="";
			if (arryyD==2) {
				console.log('vacio 2 :V');
			}else{
				let naP=arryyD[0];
				console.log(naP);
				naP.push(arryyD[1]);
				let maximus=naP.length;
				let naP2=[];
				console.log(naP);
				for(let i=0;i<maximus;i++){
					
					let nA=numRandomEn(0, naP.length);
					naP2.push(naP[nA]);
					naP.splice(nA,1);

				};
				console.log(naP2);
				naP2.forEach(d=>{
					incrusHtml+=`
						
						<div class="opcBH" disabled>
							<object class="imgL" data="svg/opcionL.svg" type="image/svg+xml"></object>
							${d}
							<object class="imgR" data="svg/opcionR.svg" type="image/svg+xml"></object>
							
						</div>
						
					`
					
				})
			}
			coteOpciones.innerHTML=incrusHtml;
			banderaR.innerHTML=arryyD[1];
		}

		aleatoriedad.addEventListener('click',function(){
			let dIlet2=datPorInsert(seleccionados)
			
			insertDatHtml(dIlet2);
			console.log(dIlet2);
			
			// numInter=20+1;
			clearInterval(relojin);
			relojitoRegresivo('#relojRegresivo');
			let maRot=document.querySelector('.ctDS');
			maRot.style.animation='rotL 2s';
			setTimeout(function(){
				maRot.style.animation='';
			},2000);
			
		});
		//FIN script para la TERCER cuadro
	</script>
	
</body>
</html>